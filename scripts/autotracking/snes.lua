DOORS_SCREENS = {
    -- crateria
    ['LandingSiteRight'] = {
        byteIndex = 23,
        bitMask = 1,
        room = 0x91f8,
        area = "Crateria"
    },
    ['LandingSiteTopRight'] = {
        byteIndex = 11,
        bitMask = 1,
        room = 0x91f8,
        area = "Crateria"
    },
    ['KihunterBottom'] = {
        byteIndex = 156,
        bitMask = 32,
        room = 0x948c,
        area = "Crateria"
    },
    ['KihunterRight'] = {
        byteIndex = 148,
        bitMask = 16,
        room = 0x948c,
        area = "Crateria"
    },
    ['FlywayRight'] = {
        byteIndex = 31,
        bitMask = 128,
        room = 0x9879,
        area = "Crateria"
    },
    ['GreenPiratesShaftBottomRight'] = {
        byteIndex = 37,
        bitMask = 16,
        room = 0x99bd,
        area = "Crateria"
    },
    ['RedBrinstarElevatorTop'] = {
        byteIndex = 160,
        bitMask = 32,
        room = 0x962a,
        area = "Crateria"
    },
    ['ClimbRight'] = {
        byteIndex = 70,
        bitMask = 8,
        room = 0x96ba,
        area = "Crateria"
    },
    -- blue brinstar
    ['ConstructionZoneRight'] = {
        byteIndex = 47,
        bitMask = 4,
        room = 0x9f11,
        area = "Brinstar"
    },
    -- green brinstar
    ['GreenHillZoneTopRight'] = {
        byteIndex = 46,
        bitMask = 8,
        room = 0x9e52,
        area = "Brinstar"
    },
    ['NoobBridgeRight'] = {
        byteIndex = 184,
        bitMask = 128,
        room = 0x9fba,
        area = "Brinstar"
    },
    ['MainShaftRight'] = {
        byteIndex = 21,
        bitMask = 64,
        room = 0x9ad9,
        area = "Brinstar"
    },
    ['GreenBrinstarSaveStation'] = {
        byteIndex = 25,
        bitMask = 64,
        room = 0x9ad9,
        area = "Brinstar"
    },
    ['MainShaftBottomRight'] = {
        byteIndex = 29,
        bitMask = 64,
        room = 0x9ad9,
        area = "Brinstar"
    },
    ['GreenBrinstarMissileRefill'] = {
        byteIndex = 29,
        bitMask = 64,
        room = 0x9ad9,
        area = "Brinstar"
    },
    ['EarlySupersRight'] = {
        byteIndex = 21,
        bitMask = 8,
        room = 0x9bc8,
        area = "Brinstar"
    },
    ['EtecoonEnergyTankLeft'] = {
        byteIndex = 44,
        bitMask = 2,
        room = 0xa011,
        area = "Brinstar"
    },
    -- pink brinstar
    ['BigPinkTopRight'] = {
        byteIndex = 22,
        bitMask = 32,
        room = 0x9d19,
        area = "Brinstar"
    },
    ['BigPinkRight'] = {
        byteIndex = 38,
        bitMask = 32,
        room = 0x9d19,
        area = "Brinstar"
    },
    ['BigPinkBottomRight'] = {
        byteIndex = 46,
        bitMask = 32,
        room = 0x9d19,
        area = "Brinstar"
    },
    ['BigPinkBottomLeft'] = {
        byteIndex = 57,
        bitMask = 1,
        room = 0x9d19,
        area = "Brinstar"
    },
    -- red brinstar
    ['RedTowerLeft'] = {
        byteIndex = 192,
        bitMask = 64,
        room = 0xa253,
        area = "Brinstar"
    },
    ['RedBrinstarEnergyRefill'] = {
        byteIndex = 204,
        bitMask = 64,
        room = 0xa253,
        area = "Brinstar"
    },
    ['RedBrinstarFirefleaLeft'] = {
        byteIndex = 67,
        bitMask = 64,
        room = 0xa293,
        area = "Brinstar"
    },
    ['RedTowerElevatorTopLeft'] = {
        byteIndex = 160,
        bitMask = 4,
        room = 0xa322,
        area = "Brinstar"
    },
    ['RedTowerElevatorLeft'] = {
        byteIndex = 168,
        bitMask = 4,
        room = 0xa322,
        area = "Brinstar"
    },
    ['RedTowerElevatorBottomLeft'] = {
        byteIndex = 176,
        bitMask = 4,
        room = 0xa322,
        area = "Brinstar"
    },
    ['BelowSpazerTopRight'] = {
        byteIndex = 200,
        bitMask = 4,
        room = 0xa408,
        area = "Brinstar"
    },
    ["MaridiaBottomSaveStation"] = {
        byteIndex = 81,
        bitMask = 16,
        room = 0xcefb,
        area = "Maridia"
    },
    ['KraidRefillStation'] = {
        byteIndex = 206,
        bitMask = 4,
        room = 0xcefb,
        area = "Brinstar"
    },
    -- Wrecked ship
    ['WestOceanRight'] = {
        byteIndex = 149,
        bitMask = 4,
        room = 0x93fe,
        area = "Crateria"
    },
    ['LeCoudeBottom'] = {
        byteIndex = 170,
        bitMask = 8,
        room = 0x95a8,
        area = "Crateria"
    },
    ['WreckedShipMainShaftBottom'] = {
        byteIndex = 78,
        bitMask = 128,
        room = 0xcaf6,
        area = "WreckedShip"
    },
    ['ElectricDeathRoomTopLeft'] = {
        byteIndex = 58,
        bitMask = 4,
        room = 0xcbd5,
        area = "WreckedShip"
    },
    -- Upper Norfair
    ['BusinessCenterTopLeft'] = {
        byteIndex = 17,
        bitMask = 32,
        room = 0xa7de,
        area = "Norfair"
    },
    ['BusinessCenterBottomLeft'] = {
        byteIndex = 25,
        bitMask = 32,
        room = 0xa7de,
        area = "Norfair"
    },
    ['CathedralEntranceRight'] = {
        byteIndex = 17,
        bitMask = 4,
        room = 0xa7b3,
        area = "Norfair"
    },
    ['CathedralRight'] = {
        byteIndex = 22,
        bitMask = 128,
        room = 0xa788,
        area = "Norfair"
    },
    ['BubbleMountainTopRight'] = {
        byteIndex = 14,
        bitMask = 1,
        room = 0xacb3,
        area = "Norfair"
    },
    ['BubbleMountainTopLeft'] = {
        byteIndex = 14,
        bitMask = 2,
        room = 0xacb3,
        area = "Norfair"
    },
    ['SpeedBoosterHallRight'] = {
        byteIndex = 140,
        bitMask = 8,
        room = 0xacf0,
        area = "Norfair"
    },
    ['SingleChamberRight'] = {
        byteIndex = 23,
        bitMask = 128,
        room = 0xad5e,
        area = "Norfair"
    },
    ['DoubleChamberRight'] = {
        byteIndex = 23,
        bitMask = 8,
        room = 0xadad,
        area = "Norfair"
    },
    ['KronicBoostBottomLeft'] = {
        byteIndex = 47,
        bitMask = 32,
        room = 0xae74,
        area = "Norfair"
    },
    ['CrocomireSpeedwayBottom'] = {
        byteIndex = 41,
        bitMask = 1,
        room = 0xa923,
        area = "Norfair"
    },
    -- Crocomire
    ['PostCrocomireUpperLeft'] = {
        byteIndex = 45,
        bitMask = 32,
        room = 0xaa82,
        area = "Norfair"
    },
    ['PostCrocomireShaftRight'] = {
        byteIndex = 65,
        bitMask = 32,
        room = 0xab07,
        area = "Norfair"
    },
    -- Lower Norfair
    ['RedKihunterShaftBottom'] = {
        byteIndex = 184,
        bitMask = 4,
        room = 0xb585,
        area = "Norfair"
    },
    ['WastelandLeft'] = {
        byteIndex = 196,
        bitMask = 64,
        room = 0xb5d5,
        area = "Norfair"
    },
    -- Maridia
    ['MainStreetBottomRight'] = {
        byteIndex = 69,
        bitMask = 16,
        room = 0xcfc9,
        area = "Maridia"
    },
    ['FishTankRight'] = {
        byteIndex = 66,
        bitMask = 128,
        room = 0xd017,
        area = "Maridia"
    },
    ['CrabShaftRight'] = {
        byteIndex = 46,
        bitMask = 16,
        room = 0xd1a3,
        area = "Maridia"
    },
    ['DraygonSaveRefillStation'] = {
        byteIndex = 157,
        bitMask = 128,
        room = 0xd72a,
        area = "Maridia"
    },
    ['ColosseumBottomRight'] = {
        byteIndex = 161,
        bitMask = 128,
        room = 0xd72a,
        area = "Maridia"
    },
    ['PlasmaSparkBottom'] = {
        byteIndex = 22,
        bitMask = 2,
        room = 0xd340,
        area = "Maridia"
    },
    ['OasisTop'] = {
        byteIndex = 66,
        bitMask = 2,
        room = 0xd48e,
        area = "Maridia"
    },
    ['ForgottenHighwaySaveStation'] = {
        byteIndex = 148,
        bitMask = 32,
        --room = 0xd72a, --this is wrong
        area = "Maridia"
    },
    ["MaridiaAqueductSaveStation"] = {
        byteIndex = 50,
        bitMask = 8,
        room = 0xd5a7,
        area = "Maridia"
    },
}
AREA_MAPPING = {
    [0] = 'Crateria',
    [1] = 'Brinstar',
    [2] = 'Norfair',
    [3] = 'WreckedShip',
    [4] = 'Maridia',
    [5] = 'Tourian',
    [6] = 'Ceres'
}
AREA_TAB_MAPPING = {
    [0] = 'Crateria',
    [1] = 'Brinstar',
    [2] = 'Norfair',
    [3] = 'Wrecked Ship',
    [4] = 'Maridia',
}
AREA_OFFSETS = {
    ['Crateria'] = 0x0,
    ['Brinstar'] = 0x100,
    ['Norfair'] = 0x200,
    ['WreckedShip'] = 0x300,
    ['Maridia'] = 0x400
}
BOSS_BIT_MASKS = {
    ["kraid"] = {
        ["byteIndex"] = 0x01,
        ["bitMask"] = 0x01
    },
    ["ridley"] = {
        ["byteIndex"] = 0x02,
        ["bitMask"] = 0x01
    },
    ["phantoon"] = {
        ["byteIndex"] = 0x03,
        ["bitMask"] = 0x01
    },
    ["draygon"] = {
        ["byteIndex"] = 0x04,
        ["bitMask"] = 0x01
    },
    ["mother_brain"] = {
        ["byteIndex"] = 0x05,
        ["bitMask"] = 0x02
    },
    --["Spore Spawn"] = {
    --    ["byteIndex"] = 0x01,
    --    ["bitMask"] = 0x02
    --},
    --["Crocomire"] = {
    --    ["byteIndex"] = 0x02,
    --    ["bitMask"] = 0x02
    --},
    --["Botwoon"] = {
    --    ["byteIndex"] = 0x04,
    --    ["bitMask"] = 0x02
    --},
    --["Golden Torizo"] = {
    --    ["byteIndex"] = 0x02,
    --    ["bitMask"] = 0x04
    --}
}
AREA_ACCESS_POINTS = {
    ["Lower Mushrooms Left"] = {
        ["byteIndex"] = 36,
        ["bitMask"] = 1,
        ["room"] = 0x9969,
        ["area"] = "Crateria"
    },
    ["Green Pirates Shaft Bottom Right"] = {
        ["byteIndex"] = 37,
        ["bitMask"] = 16,
        ["room"] = 0x99bd,
        ["area"] = "Crateria"
    },
    ["Moat Right"] = {
        ["byteIndex"] = 148,
        ["bitMask"] = 4,
        ["room"] = 0x95ff,
        ["area"] = "Crateria"
    },
    ["Keyhunter Room Bottom"] = {
        ["byteIndex"] = 156,
        ["bitMask"] = 32,
        ["room"] = 0x948c,
        ["area"] = "Crateria"
    },
    ["Morph Ball Room Left"] = {
        ["byteIndex"] = 46,
        ["bitMask"] = 4,
        ["room"] = 0x9e9f,
        ["area"] = "Brinstar"
    },
    ["Green Brinstar Elevator"] = {
        ["byteIndex"] = 36,
        ["bitMask"] = 2,
        ["room"] = 0x9938,
        ["area"] = "Crateria"
    },
    ["Green Hill Zone Top Right"] = {
        ["byteIndex"] = 46,
        ["bitMask"] = 8,
        ["room"] = 0x9e52,
        ["area"] = "Brinstar"
    },
    ["Noob Bridge Right"] = {
        ["byteIndex"] = 184,
        ["bitMask"] = 128,
        ["room"] = 0x9fba,
        ["area"] = "Brinstar"
    },
    ["West Ocean Left"] = {
        ["byteIndex"] = 148,
        ["bitMask"] = 2,
        ["room"] = 0x93fe,
        ["area"] = "Crateria"
    },
    ["Crab Maze Left"] = {
        ["byteIndex"] = 170,
        ["bitMask"] = 4,
        ["room"] = 0x957d,
        ["area"] = "Crateria"
    },
    ["Lava Dive Right"] = {
        ["byteIndex"] = 47,
        ["bitMask"] = 64,
        ["room"] = 0xaf14,
        ["area"] = "Norfair"
    },
    ["Three Muskateers Room Left"] = {
        ["byteIndex"] = 19,
        ["bitMask"] = 2,
        ["room"] = 0xb656,
        ["area"] = "Norfair"
    },
    ["Warehouse Zeela Room Left"] = {
        ["byteIndex"] = 205,
        ["bitMask"] = 8,
        ["room"] = 0xa471,
        ["area"] = "Brinstar"
    },
    ["Warehouse Entrance Left"] = {
        ["byteIndex"] = 205,
        ["bitMask"] = 64,
        ["room"] = 0xa6a1,
        ["area"] = "Brinstar"
    },
    ["Warehouse Entrance Right"] = {
        ["byteIndex"] = 205,
        ["bitMask"] = 16,
        ["room"] = 0xa6a1,
        ["area"] = "Brinstar"
    },
    ["Single Chamber Top Right"] = {
        ["byteIndex"] = 19,
        ["bitMask"] = 4,
        ["room"] = 0xad5e,
        ["area"] = "Norfair"
    },
    ["Kronic Boost Room Bottom Left"] = {
        ["byteIndex"] = 47,
        ["bitMask"] = 32,
        ["room"] = 0xae74,
        ["area"] = "Norfair"
    },
    ["Crocomire Speedway Bottom"] = {
        ["byteIndex"] = 41,
        ["bitMask"] = 1,
        ["room"] = 0xa923,
        ["area"] = "Norfair"
    },
    ["Crocomire Room Top"] = {
        ["byteIndex"] = 45,
        ["bitMask"] = 1,
        ["room"] = 0xa98d,
        ["area"] = "Norfair"
    },
    ["Main Street Bottom"] = {
        ["byteIndex"] = 69,
        ["bitMask"] = 16,
        ["room"] = 0xcfc9,
        ["area"] = "Maridia"
    },
    ["Crab Hole Bottom Left"] = {
        ["byteIndex"] = 74,
        ["bitMask"] = 128,
        ["room"] = 0xd21c,
        ["area"] = "Maridia"
    },
    ["Red Fish Room Left"] = {
        ["byteIndex"] = 33,
        ["bitMask"] = 8,
        ["room"] = 0xd104,
        ["area"] = "Maridia"
    },
    ["Crab Shaft Right"] = {
        ["byteIndex"] = 46,
        ["bitMask"] = 16,
        ["room"] = 0xd1a3,
        ["area"] = "Maridia"
    },
    ["Aqueduct Top Left"] = {
        ["byteIndex"] = 46,
        ["bitMask"] = 8,
        ["room"] = 0xd5a7,
        ["area"] = "Maridia"
    },
    ["Le Coude Right"] = {
        ["byteIndex"] = 170,
        ["bitMask"] = 8,
        ["room"] = 0x95a8,
        ["area"] = "Crateria"
    },
    ["Red Tower Top Left"] = {
        ["byteIndex"] = 184,
        ["bitMask"] = 64,
        ["room"] = 0xa253,
        ["area"] = "Brinstar"
    },
    ["Caterpillar Room Top Right"] = {
        ["byteIndex"] = 160,
        ["bitMask"] = 1,
        ["room"] = 0xa322,
        ["area"] = "Brinstar"
    },
    ["Red Brinstar Elevator"] = {
        ["byteIndex"] = 160,
        ["bitMask"] = 32,
        ["room"] = 0x962a,
        ["area"] = "Crateria"
    },
    ["East Tunnel Right"] = {
        ["byteIndex"] = 77,
        ["bitMask"] = 8,
        ["room"] = 0xcf80,
        ["area"] = "Maridia"
    },
    ["East Tunnel Top Right"] = {
        ["byteIndex"] = 73,
        ["bitMask"] = 1,
        ["room"] = 0xcf80,
        ["area"] = "Maridia"
    },
    ["Glass Tunnel Top"] = {
        ["byteIndex"] = 73,
        ["bitMask"] = 16,
        ["room"] = 0xcefb,
        ["area"] = "Maridia"
    },
    ["Golden Four"] = {
        ["byteIndex"] = 37,
        ["bitMask"] = 8,
        ["room"] = 0xa5ed,
        ["area"] = "Crateria"
    }
}
BOSS_ACCESS_POINTS = {
    ["PhantoonRoomOut"] = {
        ["byteIndex"] = 82,
        ["bitMask"] = 32,
        ["room"] = 0xcc6f,
        ["area"] = "WreckedShip"
    },
    ["PhantoonRoomIn"] = {
        ["byteIndex"] = 82,
        ["bitMask"] = 16,
        ["room"] = 0xcd13,
        ["area"] = "WreckedShip"
    },
    ["RidleyRoomOut"] = {
        ["byteIndex"] = 71,
        ["bitMask"] = 128,
        ["room"] = 0xb37a,
        ["area"] = "Norfair"
    },
    ["RidleyRoomIn"] = {
        ["byteIndex"] = 70,
        ["bitMask"] = 1,
        ["room"] = 0xb32e,
        ["area"] = "Norfair"
    },
    ["KraidRoomOut"] = {
        ["byteIndex"] = 210,
        ["bitMask"] = 2,
        ["room"] = 0xa56b,
        ["area"] = "Brinstar"
    },
    ["KraidRoomIn"] = {
        ["byteIndex"] = 210,
        ["bitMask"] = 1,
        ["room"] = 0xa59f,
        ["area"] = "Brinstar"
    },
    ["DraygonRoomOut"] = {
        ["byteIndex"] = 169,
        ["bitMask"] = 64,
        ["room"] = 0xd78f,
        ["area"] = "Maridia"
    },
    ["DraygonRoomIn"] = {
        ["byteIndex"] = 169,
        ["bitMask"] = 128,
        ["room"] = 0xda60,
        ["area"] = "Maridia"
    }
}
NOTHING_SCREENS = {
    ["Energy Tank, Gauntlet"] = {
        ["byteIndex"] = 14,
        ["bitMask"] = 64,
        ["room"] = 0x965b,
        ["area"] = "Crateria"
    },
    ["Bomb"] = {
        ["byteIndex"] = 31,
        ["bitMask"] = 64,
        ["room"] = 0x9804,
        ["area"] = "Crateria"
    },
    ["Energy Tank, Terminator"] = {
        ["byteIndex"] = 29,
        ["bitMask"] = 8,
        ["room"] = 0x990d,
        ["area"] = "Crateria"
    },
    ["Reserve Tank, Brinstar"] = {
        ["byteIndex"] = 21,
        ["bitMask"] = 4,
        ["room"] = 0x9c07,
        ["area"] = "Brinstar"
    },
    ["Charge Beam"] = {
        ["byteIndex"] = 50,
        ["bitMask"] = 64,
        ["room"] = 0x9d19,
        ["area"] = "Brinstar"
    },
    ["Morphing Ball"] = {
        ["byteIndex"] = 47,
        ["bitMask"] = 64,
        ["room"] = 0x9e9f,
        ["area"] = "Brinstar"
    },
    ["Energy Tank, Brinstar Ceiling"] = {
        ["byteIndex"] = 47,
        ["bitMask"] = 1,
        ["room"] = 0x9f64,
        ["area"] = "Brinstar"
    },
    ["Energy Tank, Etecoons"] = {
        ["byteIndex"] = 44,
        ["bitMask"] = 2,
        ["room"] = 0xa011,
        ["area"] = "Brinstar"
    },
    ["Energy Tank, Waterway"] = {
        ["byteIndex"] = 57,
        ["bitMask"] = 128,
        ["room"] = 0xa0d2,
        ["area"] = "Brinstar"
    },
    ["Energy Tank, Brinstar Gate"] = {
        ["byteIndex"] = 38,
        ["bitMask"] = 4,
        ["room"] = 0xa15b,
        ["area"] = "Brinstar"
    },
    ["X-Ray Scope"] = {
        ["byteIndex"] = 66,
        ["bitMask"] = 1,
        ["room"] = 0xa2ce,
        ["area"] = "Brinstar"
    },
    ["Spazer"] = {
        ["byteIndex"] = 200,
        ["bitMask"] = 2,
        ["room"] = 0xa447,
        ["area"] = "Brinstar"
    },
    ["Energy Tank, Kraid"] = {
        ["byteIndex"] = 209,
        ["bitMask"] = 16,
        ["room"] = 0xa4b1,
        ["area"] = "Brinstar"
    },
    ["Varia Suit"] = {
        ["byteIndex"] = 211,
        ["bitMask"] = 64,
        ["room"] = 0xa6e2,
        ["area"] = "Brinstar"
    },
    ["Ice Beam"] = {
        ["byteIndex"] = 12,
        ["bitMask"] = 4,
        ["room"] = 0xa890,
        ["area"] = "Norfair"
    },
    ["Energy Tank, Crocomire"] = {
        ["byteIndex"] = 46,
        ["bitMask"] = 16,
        ["room"] = 0xa98d,
        ["area"] = "Norfair"
    },
    ["Hi-Jump Boots"] = {
        ["byteIndex"] = 28,
        ["bitMask"] = 1,
        ["room"] = 0xa9e5,
        ["area"] = "Norfair"
    },
    ["Grapple Beam"] = {
        ["byteIndex"] = 68,
        ["bitMask"] = 16,
        ["room"] = 0xac2b,
        ["area"] = "Norfair"
    },
    ["Reserve Tank, Norfair"] = {
        ["byteIndex"] = 14,
        ["bitMask"] = 32,
        ["room"] = 0xac5a,
        ["area"] = "Norfair"
    },
    ["Speed Booster"] = {
        ["byteIndex"] = 140,
        ["bitMask"] = 4,
        ["room"] = 0xad1b,
        ["area"] = "Norfair"
    },
    ["Wave Beam"] = {
        ["byteIndex"] = 23,
        ["bitMask"] = 4,
        ["room"] = 0xadde,
        ["area"] = "Norfair"
    },
    ["Energy Tank, Ridley"] = {
        ["byteIndex"] = 74,
        ["bitMask"] = 2,
        ["room"] = 0xb698,
        ["area"] = "Norfair"
    },
    ["Screw Attack"] = {
        ["byteIndex"] = 70,
        ["bitMask"] = 8,
        ["room"] = 0xb6c1,
        ["area"] = "Norfair"
    },
    ["Energy Tank, Firefleas"] = {
        ["byteIndex"] = 176,
        ["bitMask"] = 4,
        ["room"] = 0xb6ee,
        ["area"] = "Norfair"
    },
    ["Reserve Tank, Wrecked Ship"] = {
        ["byteIndex"] = 49,
        ["bitMask"] = 1,
        ["room"] = 0xc98e,
        ["area"] = "WreckedShip"
    },
    ["Energy Tank, Wrecked Ship"] = {
        ["byteIndex"] = 58,
        ["bitMask"] = 32,
        ["room"] = 0xcc27,
        ["area"] = "WreckedShip"
    },
    ["Right Super, Wrecked Ship"] = {
        ["byteIndex"] = 74,
        ["bitMask"] = 4,
        ["room"] = 0xcdf1,
        ["area"] = "WreckedShip"
    },
    ["Gravity Suit"] = {
        ["byteIndex"] = 57,
        ["bitMask"] = 32,
        ["room"] = 0xce40,
        ["area"] = "WreckedShip"
    },
    ["Energy Tank, Mama turtle"] = {
        ["byteIndex"] = 54,
        ["bitMask"] = 16,
        ["room"] = 0xd055,
        ["area"] = "Maridia"
    },
    ["Plasma Beam"] = {
        ["byteIndex"] = 15,
        ["bitMask"] = 8,
        ["room"] = 0xd2aa,
        ["area"] = "Maridia"
    },
    ["Reserve Tank, Maridia"] = {
        ["byteIndex"] = 62,
        ["bitMask"] = 8,
        ["room"] = 0xd4ef,
        ["area"] = "Maridia"
    },
    ["Spring Ball"] = {
        ["byteIndex"] = 196,
        ["bitMask"] = 64,
        ["room"] = 0xd6d0,
        ["area"] = "Maridia"
    },
    ["Energy Tank, Botwoon"] = {
        ["byteIndex"] = 39,
        ["bitMask"] = 4,
        ["room"] = 0xd7e4,
        ["area"] = "Maridia"
    },
    ["Space Jump"] = {
        ["byteIndex"] = 172,
        ["bitMask"] = 2,
        ["room"] = 0xd9aa,
        ["area"] = "Maridia"
    },
    ["Power Bomb (Crateria surface)"] = {
        ["byteIndex"] = 136,
        ["bitMask"] = 64,
        ["room"] = 0x93aa,
        ["area"] = "Crateria"
    },
    ["Missile (outside Wrecked Ship bottom)"] = {
        ["byteIndex"] = 152,
        ["bitMask"] = 2,
        ["room"] = 0x93fe,
        ["area"] = "Crateria"
    },
    ["Missile (outside Wrecked Ship top)"] = {
        ["byteIndex"] = 132,
        ["bitMask"] = 1,
        ["room"] = 0x93fe,
        ["area"] = "Crateria"
    },
    ["Missile (outside Wrecked Ship middle)"] = {
        ["byteIndex"] = 140,
        ["bitMask"] = 2,
        ["room"] = 0x93fe,
        ["area"] = "Crateria"
    },
    ["Missile (Crateria moat)"] = {
        ["byteIndex"] = 148,
        ["bitMask"] = 8,
        ["room"] = 0x95ff,
        ["area"] = "Crateria"
    },
    ["Missile (Crateria bottom)"] = {
        ["byteIndex"] = 78,
        ["bitMask"] = 8,
        ["room"] = 0x975c,
        ["area"] = "Crateria"
    },
    ["Missile (Crateria gauntlet right)"] = {
        ["byteIndex"] = 17,
        ["bitMask"] = 16,
        ["room"] = 0x99bd,
        ["area"] = "Crateria"
    },
    ["Missile (Crateria gauntlet left)"] = {
        ["byteIndex"] = 17,
        ["bitMask"] = 16,
        ["room"] = 0x99bd,
        ["area"] = "Crateria"
    },
    ["Super Missile (Crateria)"] = {
        ["byteIndex"] = 43,
        ["bitMask"] = 128,
        ["room"] = 0x99f9,
        ["area"] = "Crateria"
    },
    ["Missile (Crateria middle)"] = {
        ["byteIndex"] = 34,
        ["bitMask"] = 128,
        ["room"] = 0x9a90,
        ["area"] = "Crateria"
    },
    ["Power Bomb (green Brinstar bottom)"] = {
        ["byteIndex"] = 33,
        ["bitMask"] = 8,
        ["room"] = 0x9ad9,
        ["area"] = "Brinstar"
    },
    ["Super Missile (pink Brinstar)"] = {
        ["byteIndex"] = 43,
        ["bitMask"] = 128,
        ["room"] = 0x9b5b,
        ["area"] = "Brinstar"
    },
    ["Missile (green Brinstar below super missile)"] = {
        ["byteIndex"] = 21,
        ["bitMask"] = 16,
        ["room"] = 0x9bc8,
        ["area"] = "Brinstar"
    },
    ["Super Missile (green Brinstar top)"] = {
        ["byteIndex"] = 17,
        ["bitMask"] = 32,
        ["room"] = 0x9bc8,
        ["area"] = "Brinstar"
    },
    ["Missile (green Brinstar behind missile)"] = {
        ["byteIndex"] = 21,
        ["bitMask"] = 2,
        ["room"] = 0x9c07,
        ["area"] = "Brinstar"
    },
    ["Missile (green Brinstar behind reserve tank)"] = {
        ["byteIndex"] = 21,
        ["bitMask"] = 2,
        ["room"] = 0x9c07,
        ["area"] = "Brinstar"
    },
    ["Missile (pink Brinstar top)"] = {
        ["byteIndex"] = 34,
        ["bitMask"] = 64,
        ["room"] = 0x9d19,
        ["area"] = "Brinstar"
    },
    ["Missile (pink Brinstar bottom)"] = {
        ["byteIndex"] = 46,
        ["bitMask"] = 64,
        ["room"] = 0x9d19,
        ["area"] = "Brinstar"
    },
    ["Power Bomb (pink Brinstar)"] = {
        ["byteIndex"] = 37,
        ["bitMask"] = 1,
        ["room"] = 0x9e11,
        ["area"] = "Brinstar"
    },
    ["Missile (green Brinstar pipe)"] = {
        ["byteIndex"] = 50,
        ["bitMask"] = 2,
        ["room"] = 0x9e52,
        ["area"] = "Brinstar"
    },
    ["Power Bomb (blue Brinstar)"] = {
        ["byteIndex"] = 46,
        ["bitMask"] = 1,
        ["room"] = 0x9e9f,
        ["area"] = "Brinstar"
    },
    ["Missile (blue Brinstar middle)"] = {
        ["byteIndex"] = 172,
        ["bitMask"] = 128,
        ["room"] = 0x9f64,
        ["area"] = "Brinstar"
    },
    ["Super Missile (green Brinstar bottom)"] = {
        ["byteIndex"] = 44,
        ["bitMask"] = 4,
        ["room"] = 0xa051,
        ["area"] = "Brinstar"
    },
    ["Missile (blue Brinstar bottom)"] = {
        ["byteIndex"] = 51,
        ["bitMask"] = 8,
        ["room"] = 0xa107,
        ["area"] = "Brinstar"
    },
    ["Missile (blue Brinstar top)"] = {
        ["byteIndex"] = 39,
        ["bitMask"] = 4,
        ["room"] = 0xa1d8,
        ["area"] = "Brinstar"
    },
    ["Missile (blue Brinstar behind missile)"] = {
        ["byteIndex"] = 39,
        ["bitMask"] = 4,
        ["room"] = 0xa1d8,
        ["area"] = "Brinstar"
    },
    ["Power Bomb (red Brinstar sidehopper room)"] = {
        ["byteIndex"] = 164,
        ["bitMask"] = 16,
        ["room"] = 0xa37c,
        ["area"] = "Brinstar"
    },
    ["Power Bomb (red Brinstar spike room)"] = {
        ["byteIndex"] = 176,
        ["bitMask"] = 16,
        ["room"] = 0xa3ae,
        ["area"] = "Brinstar"
    },
    ["Missile (red Brinstar spike room)"] = {
        ["byteIndex"] = 176,
        ["bitMask"] = 32,
        ["room"] = 0xa3ae,
        ["area"] = "Brinstar"
    },
    ["Missile (Kraid)"] = {
        ["byteIndex"] = 205,
        ["bitMask"] = 1,
        ["room"] = 0xa4da,
        ["area"] = "Brinstar"
    },
    ["Missile (lava room)"] = {
        ["byteIndex"] = 22,
        ["bitMask"] = 128,
        ["room"] = 0xa788,
        ["area"] = "Norfair"
    },
    ["Missile (below Ice Beam)"] = {
        ["byteIndex"] = 20,
        ["bitMask"] = 32,
        ["room"] = 0xa8f8,
        ["area"] = "Norfair"
    },
    ["Missile (above Crocomire)"] = {
        ["byteIndex"] = 29,
        ["bitMask"] = 16,
        ["room"] = 0xaa0e,
        ["area"] = "Norfair"
    },
    ["Missile (Hi-Jump Boots)"] = {
        ["byteIndex"] = 25,
        ["bitMask"] = 128,
        ["room"] = 0xaa41,
        ["area"] = "Norfair"
    },
    ["Energy Tank (Hi-Jump Boots)"] = {
        ["byteIndex"] = 25,
        ["bitMask"] = 64,
        ["room"] = 0xaa41,
        ["area"] = "Norfair"
    },
    ["Power Bomb (Crocomire)"] = {
        ["byteIndex"] = 45,
        ["bitMask"] = 64,
        ["room"] = 0xaade,
        ["area"] = "Norfair"
    },
    ["Missile (below Crocomire)"] = {
        ["byteIndex"] = 65,
        ["bitMask"] = 2,
        ["room"] = 0xab3b,
        ["area"] = "Norfair"
    },
    ["Missile (Grapple Beam)"] = {
        ["byteIndex"] = 65,
        ["bitMask"] = 128,
        ["room"] = 0xab8f,
        ["area"] = "Norfair"
    },
    ["Missile (Norfair Reserve Tank)"] = {
        ["byteIndex"] = 14,
        ["bitMask"] = 32,
        ["room"] = 0xac5a,
        ["area"] = "Norfair"
    },
    ["Missile (bubble Norfair green door)"] = {
        ["byteIndex"] = 14,
        ["bitMask"] = 4,
        ["room"] = 0xac83,
        ["area"] = "Norfair"
    },
    ["Missile (bubble Norfair)"] = {
        ["byteIndex"] = 26,
        ["bitMask"] = 1,
        ["room"] = 0xacb3,
        ["area"] = "Norfair"
    },
    ["Missile (Speed Booster)"] = {
        ["byteIndex"] = 140,
        ["bitMask"] = 8,
        ["room"] = 0xacf0,
        ["area"] = "Norfair"
    },
    ["Missile (Wave Beam)"] = {
        ["byteIndex"] = 23,
        ["bitMask"] = 32,
        ["room"] = 0xadad,
        ["area"] = "Norfair"
    },
    ["Missile (Gold Torizo)"] = {
        ["byteIndex"] = 66,
        ["bitMask"] = 32,
        ["room"] = 0xb283,
        ["area"] = "Norfair"
    },
    ["Super Missile (Gold Torizo)"] = {
        ["byteIndex"] = 66,
        ["bitMask"] = 16,
        ["room"] = 0xb283,
        ["area"] = "Norfair"
    },
    ["Missile (Mickey Mouse room)"] = {
        ["byteIndex"] = 47,
        ["bitMask"] = 8,
        ["room"] = 0xb40a,
        ["area"] = "Norfair"
    },
    ["Missile (lower Norfair above fire flea room)"] = {
        ["byteIndex"] = 152,
        ["bitMask"] = 16,
        ["room"] = 0xb510,
        ["area"] = "Norfair"
    },
    ["Power Bomb (lower Norfair above fire flea room)"] = {
        ["byteIndex"] = 156,
        ["bitMask"] = 4,
        ["room"] = 0xb55a,
        ["area"] = "Norfair"
    },
    ["Power Bomb (Power Bombs of shame)"] = {
        ["byteIndex"] = 188,
        ["bitMask"] = 128,
        ["room"] = 0xb5d5,
        ["area"] = "Norfair"
    },
    ["Missile (lower Norfair near Wave Beam)"] = {
        ["byteIndex"] = 27,
        ["bitMask"] = 4,
        ["room"] = 0xb656,
        ["area"] = "Norfair"
    },
    ["Missile (Wrecked Ship middle)"] = {
        ["byteIndex"] = 69,
        ["bitMask"] = 8,
        ["room"] = 0xcaf6,
        ["area"] = "WreckedShip"
    },
    ["Missile (Gravity Suit)"] = {
        ["byteIndex"] = 57,
        ["bitMask"] = 4,
        ["room"] = 0xc98e,
        ["area"] = "WreckedShip"
    },
    ["Missile (Wrecked Ship top)"] = {
        ["byteIndex"] = 46,
        ["bitMask"] = 4,
        ["room"] = 0xcaae,
        ["area"] = "WreckedShip"
    },
    ["Super Missile (Wrecked Ship left)"] = {
        ["byteIndex"] = 73,
        ["bitMask"] = 1,
        ["room"] = 0xcda8,
        ["area"] = "WreckedShip"
    },
    ["Missile (green Maridia shinespark)"] = {
        ["byteIndex"] = 53,
        ["bitMask"] = 32,
        ["room"] = 0xcfc9,
        ["area"] = "Maridia"
    },
    ["Super Missile (green Maridia)"] = {
        ["byteIndex"] = 49,
        ["bitMask"] = 16,
        ["room"] = 0xcfc9,
        ["area"] = "Maridia"
    },
    ["Missile (green Maridia tatori)"] = {
        ["byteIndex"] = 58,
        ["bitMask"] = 16,
        ["room"] = 0xd055,
        ["area"] = "Maridia"
    },
    -- TODO::check these two if they are not swapped on the map ?
    ["Super Missile (yellow Maridia)"] = {
        ["byteIndex"] = 29,
        ["bitMask"] = 8,
        ["room"] = 0xd13b,
        ["area"] = "Maridia"
    },
    ["Missile (yellow Maridia super missile)"] = {
        ["byteIndex"] = 29,
        ["bitMask"] = 8,
        ["room"] = 0xd13b,
        ["area"] = "Maridia"
    },
    ["Missile (yellow Maridia false wall)"] = {
        ["byteIndex"] = 30,
        ["bitMask"] = 8,
        ["room"] = 0xd1dd,
        ["area"] = "Maridia"
    },
    ["Missile (left Maridia sand pit room)"] = {
        ["byteIndex"] = 62,
        ["bitMask"] = 8,
        ["room"] = 0xd4ef,
        ["area"] = "Maridia"
    },
    ["Missile (right Maridia sand pit room)"] = {
        ["byteIndex"] = 62,
        ["bitMask"] = 1,
        ["room"] = 0xd51e,
        ["area"] = "Maridia"
    },
    ["Power Bomb (right Maridia sand pit room)"] = {
        ["byteIndex"] = 67,
        ["bitMask"] = 128,
        ["room"] = 0xd51e,
        ["area"] = "Maridia"
    },
    ["Missile (pink Maridia)"] = {
        ["byteIndex"] = 43,
        ["bitMask"] = 128,
        ["room"] = 0xd5a7,
        ["area"] = "Maridia"
    },
    ["Super Missile (pink Maridia)"] = {
        ["byteIndex"] = 43,
        ["bitMask"] = 64,
        ["room"] = 0xd5a7,
        ["area"] = "Maridia"
    },
    ["Missile (Draygon)"] = {
        ["byteIndex"] = 161,
        ["bitMask"] = 32,
        ["room"] = 0xd78f,
        ["area"] = "Maridia"
    }
}
ITEM_BIT_MASKS_1 = {
    ['varia'] = {
        byteIndex = 0x0,
        bitMask = 0x1
    },
    ['spring_ball'] = {
        byteIndex = 0x0,
        bitMask = 0x2
    },
    ['morph'] = {
        byteIndex = 0x0,
        bitMask = 0x4
    },
    ['screw'] = {
        byteIndex = 0x0,
        bitMask = 0x8
    },
    ['gravity'] = {
        byteIndex = 0x0,
        bitMask = 0x20
    },
    ['hijump'] = {
        byteIndex = 0x1,
        bitMask = 0x1
    },
    ['space'] = {
        byteIndex = 0x1,
        bitMask = 0x2
    },
    ['bomb'] = {
        byteIndex = 0x1,
        bitMask = 0x10
    },
    ['speed'] = {
        byteIndex = 0x1,
        bitMask = 0x20
    },
    ['grapple'] = {
        byteIndex = 0x1,
        bitMask = 0x40
    },
    ['xray'] = {
        byteIndex = 0x1,
        bitMask = 0x80
    },
    ['wave'] = {
        byteIndex = 0x4,
        bitMask = 0x1
    },
    ['ice'] = {
        byteIndex = 0x4,
        bitMask = 0x2
    },
    ['spazer'] = {
        byteIndex = 0x4,
        bitMask = 0x4
    },
    ['plasma'] = {
        byteIndex = 0x4,
        bitMask = 0x8
    },
    ['charge'] = {
        byteIndex = 0x5,
        bitMask = 0x10
    }
}
ITEM_BIT_MASKS_2 = {
    ['etank'] = {
        byteIndex = 0x0,
        valueFunc = function(readResult)
            return math.floor((readResult - 0x63) / 0x64)
        end
    },
    ['missile'] = {
        byteIndex = 0x4,
        valueFunc = function(readResult)
            return readResult
        end
    },
    ['super'] = {
        byteIndex = 0x8,
        valueFunc = function(readResult)
            return readResult
        end
    },
    ['pb'] = {
        byteIndex = 0xC,
        valueFunc = function(readResult)
            return readResult
        end
    },
    ['reserve'] = {
        byteIndex = 0x10,
        valueFunc = function(readResult)
            return math.floor(readResult / 0x64)
        end
    }
}

CURRENT_MAP_DATA_ADDR = 0x7E07F7
SAVED_MAP_DATA_ADDR = 0x7ECD52
REACHED_ACCESS_POINTS = {}

CURRENT_AREA = nil
CURRENT_AREA_ADDR = 0x7E079F

BOSS_DATA_ADDR = 0x7ED828
ITEM_DATA_1_ADDR = 0x7E09A4
ITEM_DATA_1_SIZE = 0x06
ITEM_DATA_2_ADDR = 0x7E09C4
ITEM_DATA_2_SIZE = 0x12

-- ToDo
function is_ingame(segment)
    return 1
end

function update_item_data_1(segment)
    if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
        print(string.format("called update_item_data_1"))
    end
    for k, v in pairs(ITEM_BIT_MASKS_1) do
        if LOCAL_ITEMS[k] ~= nil and LOCAL_ITEMS[k] > 0 then
            local addr = ITEM_DATA_1_ADDR + v.byteIndex
            local readResult = AutoTracker:ReadU8(addr)
            local obj = Tracker:FindObjectForCode(k)
            if obj then
                obj.Active = (readResult & v.bitMask) > 0
            end
        end
    end
end

function update_item_data_2(segment)
    if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
        print(string.format("called update_item_data_2"))
    end
    for k, v in pairs(ITEM_BIT_MASKS_2) do
        if LOCAL_ITEMS[k] ~= nil and LOCAL_ITEMS[k] > 0 then
            local addr = ITEM_DATA_2_ADDR + v.byteIndex
            local readResult = AutoTracker:ReadU16(addr)
            local obj = Tracker:FindObjectForCode(k)
            local value = v.valueFunc(readResult)
            local global_count = 0
            if GLOBAL_ITEMS[k] ~= nil then
                global_count = GLOBAL_ITEMS[k]
            end
            if obj and value <= (global_count + LOCAL_ITEMS[k]) then
                if value < global_count then
                    obj.AcquiredCount = global_count
                else
                    obj.AcquiredCount = value
                end
            end
        end
    end
end

function update_item_data()
    update_item_data_1()
    update_item_data_2()
end

function update_boss_data(segment)
    if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
        print(string.format("called update_boss_data"))
    end
    for k, v in pairs(BOSS_BIT_MASKS) do
        if v ~= nil and v.byteIndex ~= nil and v.bitMask ~= nil then
            local addr = BOSS_DATA_ADDR + v.byteIndex
            local readResult = AutoTracker:ReadU8(addr)
            local obj = Tracker:FindObjectForCode(k)
            if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
                print(string.format("checking boss %s with readResult %x (%x) from addr %x", k, readResult, v.bitMask,
                    addr))
            end
            if obj then
                if readResult & v.bitMask > 0 then
                    obj.CurrentStage = 1
                else
                    obj.CurrentStage = 0
                end
            end
        end
    end
end

function update_current_area(segment)
    local auto_map_switching_enabled = Tracker:FindObjectForCode("auto_tab").CurrentStage == 1
    if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
        print(string.format("called update_current_area"))
    end
    local readResult = AutoTracker:ReadU8(CURRENT_AREA_ADDR)
    if AREA_MAPPING[readResult] then
        if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
            print(string.format("setting current area to %s", AREA_MAPPING[readResult]), auto_map_switching_enabled)
        end
        CURRENT_AREA = AREA_MAPPING[readResult]
        if auto_map_switching_enabled and AREA_TAB_MAPPING[readResult] then
            Tracker:UiHint("ActivateTab", AREA_TAB_MAPPING[readResult])
        end
    end
end

function update_saved_map_data(segment)
    if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
        print(string.format("called update_saved_map_data"))
    end
    update_map_data(false)
end

function update_current_map_data(segment)
    if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
        print(string.format("called update_current_map_data"))
    end
    update_map_data()
end

function update_map_data(is_current_data)
    if is_current_data == nil then
        is_current_data = true
    end
    if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
        print(string.format("called update_map_data: is_current_data: %s", is_current_data))
    end
    if is_current_data and CURRENT_AREA == nil then
        return
    end
    -- Doors
    if is_door_rando() > 0 then
        for k, v in pairs(DOORS_SCREENS) do
            if v ~= nil and v.area ~= nil and v.bitMask ~= nil and v.byteIndex ~= nil and (v.area == CURRENT_AREA or not is_current_data) then
                local addr
                if is_current_data then
                    addr = CURRENT_MAP_DATA_ADDR + v.byteIndex
                else
                    addr = SAVED_MAP_DATA_ADDR + v.byteIndex + AREA_OFFSETS[v.area]
                end
                local readResult = AutoTracker:ReadU8(addr)
                if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
                    print(string.format("read result for %s (addr: %x): %x (%x)", k, addr, readResult, v.bitMask))
                end
                if readResult & v.bitMask > 0 then
                    local obj = Tracker:FindObjectForCode(k)
                    ---@cast obj LuaItem
                    if obj then
                        if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
                            print(string.format("found door %s !", k))
                        end
                        obj:Set("active", true)
                    end
                end
            end
        end
    end
    -- Transitions
    if is_area_rando() > 0 or is_boss_rando() > 0 then
        for k, v in pairs(Transition.STATES) do
            --only check one half to skip reverse lookup entries
            -- and only check boss transition if boss rando is on
            -- and only check area transition if area rando is on
            if type(k) == 'string' and
                ((is_boss_rando() > 0 and (k:find('In') or k:find('Out'))) or
                    (is_area_rando() > 0 and not (k:find('In') or k:find('Out')))) then
                local code = "trans_" .. (k:gsub("[%s]+", ""))
                local obj = Tracker:FindObjectForCode(code)
                ---@cast obj LuaItem
                if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
                    print(string.format("checking area trans: %s (CURRENT_AREA: %s)", k, CURRENT_AREA))
                end
                if obj and not obj:Get('active') and obj:Get('state') ~= 0 then
                    local ap_1 = k
                    local ap_2 = Transition.STATES[obj:Get('state')]
                    local v
                    if ap_1:find('In') or ap_1:find('Out') then
                        v = BOSS_ACCESS_POINTS[ap_1]
                    else
                        v = AREA_ACCESS_POINTS[ap_1]
                    end
                    if not is_current_data or v.area == CURRENT_AREA then
                        if check_ap_entered(ap_1, is_current_data) and check_ap_entered(ap_2, false) then
                            obj:Set('active', true)
                            --Todo: performance fixes: set both sides true and cache check_ap_entered results
                        end
                    elseif AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
                        print(string.format("skipping area trans %s due to not being in current area", k))
                    end
                end
            elseif type(k) == 'string' and AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
                print(string.format("skipping area trans %s due to settings", k))
            end
        end
    end
end

function check_ap_entered(ap, is_current_data)
    if is_current_data == nil then
        is_current_data = true
    end
    if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
        print(string.format("called check_ap_entered: %s, %s", ap, is_current_data))
    end
    for _, reached_ap in ipairs(REACHED_ACCESS_POINTS) do
        if reached_ap == ap then
            return true
        end
    end
    local v
    if ap:find('In') or ap:find('Out') then
        v = BOSS_ACCESS_POINTS[ap]
    else
        v = AREA_ACCESS_POINTS[ap]
    end
    if CURRENT_AREA ~= nil and v ~= nil and v.area ~= nil and v.byteIndex ~= nil and v.bitMask ~= nil and (CURRENT_AREA == v.area or not is_current_data) then
        local addr
        if is_current_data then
            addr = CURRENT_MAP_DATA_ADDR + v.byteIndex
        else
            addr = SAVED_MAP_DATA_ADDR + v.byteIndex + AREA_OFFSETS[v.area]
        end
        local readResult = AutoTracker:ReadU8(addr)
        if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
            print(string.format("checking ap %s with readResult %x (%x) from addr %x", ap, readResult, v.bitMask, addr))
        end
        if readResult & v.bitMask > 0 then
            if AUTOTRACKER_ENABLE_DEBUG_LOGGING_SNES then
                print(string.format("adding ap %s as reached", ap))
            end
            table.insert(REACHED_ACCESS_POINTS, ap)
            return true
        end
    end
    return false
end

ScriptHost:AddMemoryWatch('current_area', CURRENT_AREA_ADDR, 0x1, update_current_area)
ScriptHost:AddMemoryWatch('current_map_data', CURRENT_MAP_DATA_ADDR, 0x100, update_current_map_data)
ScriptHost:AddMemoryWatch('saved_map_data', SAVED_MAP_DATA_ADDR, 0x500, update_saved_map_data)
ScriptHost:AddMemoryWatch('boss_data', BOSS_DATA_ADDR, 0x8, update_boss_data)
ScriptHost:AddMemoryWatch('item_data 1', ITEM_DATA_1_ADDR, ITEM_DATA_1_SIZE, update_item_data_1)
ScriptHost:AddMemoryWatch('item_data 2', ITEM_DATA_2_ADDR, ITEM_DATA_2_SIZE, update_item_data_2)
